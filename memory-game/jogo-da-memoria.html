<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Memory game</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <header>
    <h1>Memory game</h1>
    <button>Play Among</button>
    </button>
    <button>Play Info 3</button>
    </button>
  </header>
  <main>
    <div class="game">

      <script>
        for (let i = 0; i < 18; i++) {
          document.write(`
        <div class="scene">
        <div class="card">
          <div class="card__face front"><img src="assets/" alt=""></div>
          <div class="card__face back"><img src="" alt=""></div>
        </div>
      </div>
    
        
        `)
        }
      </script>

    </div>
  </main>

  <div class="size">
    <div class="player">
      <div class="legs"></div>
      <div class="back"></div>
      <div class="glass"></div>
    </div>
  </div>
</body>
<script>

  function start() {
    document.querySelector('.game').style.display = 'grid'
    document.querySelector('header').style.height = '15vh'
    document.querySelector('button').style.display = 'none'
    document.querySelector('button + button').style.display = 'none'
    audioStart.load()
    audioStart.play()
    this.innerText == 'Play Among' ? addRandomImage(cardsImage,'among','png'): addRandomImage(cardsImage,'infor3','jpg')

  }

  function randomNumber(max) {
    return Math.floor(Math.random() * max)
  }

  function addRandomImage(imageList,folder,typeImg) {

    let numbersRandomList = []
    let numbersRandomList2 = []

    for (let i = 0; i != 9; i++) {
      let numbersRandom = randomNumber(30)
      if (!numbersRandomList.includes(numbersRandom)) {
        numbersRandomList.push(numbersRandom)
      } else {
        i--
      }

    }

    let indexNumbersRandomList;
    for (let index = 0; index != 18; index++) {

      if (numbersRandomList.length != 0) {
        indexNumbersRandomList = randomNumber(numbersRandomList.length)
        imageList[index].src = `assets/${folder}/${numbersRandomList[indexNumbersRandomList]}.${typeImg}`
        console.log(`indexNumbersRandomList ${numbersRandomList[indexNumbersRandomList]}  `)

        numbersRandomList2.push(numbersRandomList[indexNumbersRandomList])
        console.log(`numbersRandomList: ${numbersRandomList} numbersRandomList2: ${numbersRandomList2}  `)
        numbersRandomList.splice(indexNumbersRandomList, 1)


      } else {
        indexNumbersRandomList = randomNumber(numbersRandomList2.length)
        imageList[index].src = `assets/${folder}/${numbersRandomList2[indexNumbersRandomList]}.${typeImg}`
        numbersRandomList2.splice(indexNumbersRandomList, 1)
      }

    }



  }

  const buttonPlay1 = document.querySelector('header button').addEventListener('click', start)
  const buttonPlay2 = document.querySelector('header button + button').addEventListener('click', start)
  const cards = document.querySelectorAll('.card')
  const cardsImage = document.querySelectorAll('.card .back img')

  const audioStart = new Audio('./audio/among-us-roundstart.mp3')
  const audioClick = new Audio('./audio/fullsizerender_uX5JgzS.mp3')
  const audioVictory = new Audio('./audio/victory-crew.mp3')



  for (card of cards) {
    card.addEventListener('click', function() {
      this.classList.toggle('is-flipped')
      audioClick.play()
      setTimeout(()=>this.classList.toggle('is-flipped'),2000)
      // 
    })
  }

  
</script>

</html>